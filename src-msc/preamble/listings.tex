%%
%% Code listings
%%

\usepackage[cache,chapter]{minted}
\usepackage[many,minted]{tcolorbox}
\usemintedstyle{friendly}

\newcommand{\listlistingsname}{List of Code Listings}
\renewcommand{\listingscaption}{Code Listing}
\newlistentry{listing}{lol}{0}
\renewcommand{\cftlistingleader}{ }
\renewcommand{\cftlistingafterpnum}{\cftparfillskip}

\newcommand{\mynewminted}[3]{%
	\newminted[#1]{#2}{#3}%
	\tcbset{myminted/#1/.style={minted language=#2,minted options={#3}}}}

\mynewminted{pythoncode}{python}{autogobble, linenos, xleftmargin=1em, python3}

\newtcblisting{listingsbox}[2][]{%
	listing only,enhanced,colback=black!3!white,%
	arc=0mm,frame hidden,myminted/#2,#1}
